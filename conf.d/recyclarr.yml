sonarr:
  sonarr-main:
    base_url: https://sonarr.mjones.network
    api_key: "op://Homelab/6q2dhrv2auqa2dvkv7ga5wqnwm/Sonarr API Key"

    include:
      - template: sonarr-quality-definition-series

    quality_profiles:
      # Profile 1: 720p-2160p for older content
      - name: 720p-2160p
        reset_unmatched_scores: { enabled: true }
        upgrade:
          allowed: true
          until_quality: 2160p
          until_score: 10000
        min_format_score: 0
        quality_sort: top
        qualities:
          - name: 720p
            qualities: [WEBDL-720p, WEBRip-720p, Bluray-720p]
          - name: 1080p
            qualities: [WEBDL-1080p, WEBRip-1080p, Bluray-1080p, Bluray-1080p Remux]
          - name: 2160p
            qualities: [WEBDL-2160p, WEBRip-2160p, Bluray-2160p, Bluray-2160p Remux]

      # Profile 2: 1080p-2160p for newer content
      - name: 1080p-2160p
        reset_unmatched_scores: { enabled: true }
        upgrade:
          allowed: true
          until_quality: 2160p
          until_score: 10000
        min_format_score: 0
        quality_sort: top
        qualities:
          - name: 1080p
            qualities: [WEBDL-1080p, WEBRip-1080p, Bluray-1080p, Bluray-1080p Remux]
          - name: 2160p
            qualities: [WEBDL-2160p, WEBRip-2160p, Bluray-2160p, Bluray-2160p Remux]

    custom_formats:
      # Space-saving and quality formats
      - trash_ids:
          - 47435ece6b99a0b477caf360e79ba0bb # x265 (HD)
          - 9b64dff695c2115facf1b6ea59c9bd07 # x265 (no HDR/DV)
        quality_profiles:
          - name: 720p-2160p
            score: 400  # Prioritize x265 for space saving
          - name: 1080p-2160p
            score: 400

      # Visual enhancements (with moderate preference)
      - trash_ids:
          - 9f6cbff8cfe4ebbc1bde14c7b7bec0de # IMAX Enhanced
        quality_profiles:
          - name: 720p-2160p
            score: 200
          - name: 1080p-2160p
            score: 200

radarr:
  radarr-main:
    base_url: https://radarr.mjones.network
    api_key: "op://Homelab/6q2dhrv2auqa2dvkv7ga5wqnwm/Radarr API Key"

    include:
      - template: radarr-quality-definition-movie

    quality_profiles:
      # Profile 1: 720p-2160p for older movies
      - name: 720p-2160p
        reset_unmatched_scores: { enabled: true }
        upgrade:
          allowed: true
          until_quality: WEB 2160p
          until_score: 10000
        min_format_score: 0
        quality_sort: top
        qualities:
          - name: WEB 720p
            qualities: [WEBDL-720p, WEBRip-720p]
          - name: Bluray-720p
          - name: WEB 1080p
            qualities: [WEBDL-1080p, WEBRip-1080p]
          - name: Bluray-1080p
          - name: WEB 2160p
            qualities: [WEBDL-2160p, WEBRip-2160p]
          - name: Bluray-2160p

      # Profile 2: 1080p-2160p for newer movies
      - name: 1080p-2160p
        reset_unmatched_scores: { enabled: true }
        upgrade:
          allowed: true
          until_quality: WEB 2160p
          until_score: 10000
        min_format_score: 0
        quality_sort: top
        qualities:
          - name: WEB 1080p
            qualities: [WEBDL-1080p, WEBRip-1080p]
          - name: Bluray-1080p
          - name: WEB 2160p
            qualities: [WEBDL-2160p, WEBRip-2160p]
          - name: Bluray-2160p

    custom_formats:
      # Space-saving formats
      - trash_ids:
          - dc98083864ea246d05a42df0d05f81cc # x265 (HD)
          - 839bea857ed2c0a8e084f3cbdbd65ecb # x265 (no HDR/DV)
        quality_profiles:
          - name: 720p-2160p
            score: 400  # Strongly prefer x265
          - name: 1080p-2160p
            score: 400

      # Visual enhancements
      - trash_ids:
          - 9f6cbff8cfe4ebbc1bde14c7b7bec0de # IMAX Enhanced
        quality_profiles:
          - name: 720p-2160p
            score: 200
          - name: 1080p-2160p
            score: 200

      # Avoid disk space hogs
      - trash_ids:
          - ed38b889b31be83fda192888e2286d83 # BR-DISK
          - 9d27d9d2181838f76dee150882bdc58c # BR-DISK Remux
        quality_profiles:
          - name: 720p-2160p
            score: -1000
          - name: 1080p-2160p
            score: -1000
